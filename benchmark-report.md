## Stable Diffusion Benchmark Report

The following is a report of the benchmark for running stable diffusion on major cloud providers.

### NVIDIA T4 Machine

| Provider | Name                 | CPU     | GPU           | Memory | Disk       | Cost        | Cost per gen. ($) |
| -------- | -------------------- | ------- | ------------- | ------ | ---------- | ----------- | ----------------- |
| GCP      | n1-standard-4        | 4 vCPUs | 1 x NVIDIA T4 | 15 GB  | 100 GB SSD | $0.40/hour  | 0.001656          |
| AWS      | g4dn.xlarge          | 4 vCPUs | 1 x NVIDIA T4 | 16 GB  | 125 GB SSD | $0.526/hour | 0.002179          |
| Azure    | Standard_NC4as_T4_v3 | 4 vCPUs | 1 x NVIDIA T4 | 28 GB  | 180 GB SSD | $0.631/hour | 0.002614          |

#### Benchmark Logs

```
Running benchmark for 100 requests...
Saving output to ./bench-1668178484353
1/100 -> 14642.23ms
2/100 -> 14741.89ms
3/100 -> 15084.39ms
4/100 -> 15094.03ms
5/100 -> 14932.60ms
6/100 -> 14834.23ms
7/100 -> 14802.55ms
8/100 -> 14844.17ms
9/100 -> 14891.16ms
10/100 -> 14915.56ms
11/100 -> 14887.87ms
12/100 -> 14869.89ms
13/100 -> 14890.59ms
14/100 -> 14860.30ms
15/100 -> 14851.81ms
16/100 -> 14885.60ms
17/100 -> 14867.99ms
18/100 -> 15048.67ms
19/100 -> 16500.68ms
20/100 -> 15183.33ms
21/100 -> 14940.30ms
22/100 -> 14906.29ms
23/100 -> 14908.66ms
24/100 -> 14893.59ms
25/100 -> 14900.30ms
26/100 -> 14881.76ms
27/100 -> 14874.86ms
28/100 -> 14850.02ms
29/100 -> 14864.18ms
30/100 -> 14879.40ms
31/100 -> 14928.65ms
32/100 -> 14900.94ms
33/100 -> 14883.26ms
34/100 -> 14871.25ms
35/100 -> 14870.83ms
36/100 -> 14908.09ms
37/100 -> 14930.46ms
38/100 -> 14913.49ms
39/100 -> 14914.47ms
40/100 -> 14912.70ms
41/100 -> 14875.94ms
42/100 -> 14868.89ms
43/100 -> 14860.99ms
44/100 -> 14925.42ms
45/100 -> 14940.46ms
46/100 -> 14906.58ms
47/100 -> 15079.91ms
48/100 -> 15102.93ms
49/100 -> 14924.56ms
50/100 -> 14962.20ms
51/100 -> 14885.03ms
52/100 -> 14852.01ms
53/100 -> 14859.62ms
54/100 -> 14884.67ms
55/100 -> 14911.33ms
56/100 -> 14882.53ms
57/100 -> 14876.14ms
58/100 -> 14866.13ms
59/100 -> 14897.75ms
60/100 -> 14866.29ms
61/100 -> 14878.62ms
62/100 -> 14882.65ms
63/100 -> 14878.63ms
64/100 -> 14875.69ms
65/100 -> 14899.39ms
66/100 -> 14868.42ms
67/100 -> 14920.72ms
68/100 -> 14890.18ms
69/100 -> 14889.55ms
70/100 -> 14901.55ms
71/100 -> 14908.87ms
72/100 -> 14890.91ms
73/100 -> 14903.56ms
74/100 -> 14899.20ms
75/100 -> 14859.72ms
76/100 -> 14904.72ms
77/100 -> 14875.33ms
78/100 -> 14890.53ms
79/100 -> 14904.67ms
80/100 -> 14889.86ms
81/100 -> 14871.09ms
82/100 -> 14853.71ms
83/100 -> 14866.32ms
84/100 -> 14870.87ms
85/100 -> 14890.10ms
86/100 -> 14903.42ms
87/100 -> 14875.04ms
88/100 -> 14898.89ms
89/100 -> 14869.48ms
90/100 -> 14897.62ms
91/100 -> 14894.70ms
92/100 -> 14883.17ms
93/100 -> 14973.47ms
94/100 -> 14917.94ms
95/100 -> 14906.75ms
96/100 -> 14873.11ms
97/100 -> 14925.15ms
98/100 -> 14916.33ms
99/100 -> 14973.79ms
100/100 -> 14894.21ms
Total time: 1491.5603267490005s
Min time: 14642.227791ms
Max time: 16500.675624999974ms
Avg. time: 14915.603267490005ms
```

#### Statistics

| Avg. Gen Time (ms) | Time for 100 gen (s) |
| ------------------ | -------------------- |
| 14915              | 1491                 |

### NVIDIA v100 Machine

| Provider | Name       | CPU     | GPU             | Memory | Disk       | Cost       | Cost per gen. ($) |
| -------- | ---------- | ------- | --------------- | ------ | ---------- | ---------- | ----------------- |
| GCP      | N/A        | N/A     | N/A             | N/A    | N/A        | N/A        | N/A               |
| AWS      | p3.2xlarge | 8 vCPUs | 1 x NVIDIA V100 | 61 GB  | 125 GB SSD | $3.06/hour | 0.01080           |

#### Benchmark Logs

```
Running benchmark for 100 requests...
Saving output to ././output/bench-1668774311698
1/100 -> 12736.00ms
2/100 -> 12687.00ms
3/100 -> 12696.00ms
4/100 -> 12680.00ms
5/100 -> 12682.00ms
6/100 -> 12745.00ms
7/100 -> 12690.00ms
8/100 -> 12708.00ms
9/100 -> 12701.00ms
10/100 -> 12707.00ms
11/100 -> 12710.00ms
12/100 -> 12688.00ms
13/100 -> 12753.00ms
14/100 -> 12709.00ms
15/100 -> 12697.00ms
16/100 -> 12712.00ms
17/100 -> 12676.00ms
18/100 -> 12719.00ms
19/100 -> 12699.00ms
20/100 -> 12739.00ms
21/100 -> 12769.00ms
22/100 -> 12699.00ms
23/100 -> 12734.00ms
24/100 -> 12730.00ms
25/100 -> 12707.00ms
26/100 -> 12762.00ms
27/100 -> 12721.00ms
28/100 -> 12760.00ms
29/100 -> 12680.00ms
30/100 -> 12747.00ms
31/100 -> 12674.00ms
32/100 -> 12722.00ms
33/100 -> 12692.00ms
34/100 -> 12736.00ms
35/100 -> 12670.00ms
36/100 -> 12723.00ms
37/100 -> 12726.00ms
38/100 -> 12675.00ms
39/100 -> 12711.00ms
40/100 -> 12766.00ms
41/100 -> 12768.00ms
42/100 -> 12672.00ms
43/100 -> 12691.00ms
44/100 -> 12679.00ms
45/100 -> 12718.00ms
46/100 -> 12744.00ms
47/100 -> 12728.00ms
48/100 -> 12677.00ms
49/100 -> 12714.00ms
50/100 -> 12739.00ms
51/100 -> 12732.00ms
52/100 -> 12731.00ms
53/100 -> 12690.00ms
54/100 -> 12694.00ms
55/100 -> 12698.00ms
56/100 -> 12723.00ms
57/100 -> 12715.00ms
58/100 -> 12725.00ms
59/100 -> 12735.00ms
60/100 -> 12706.00ms
61/100 -> 12695.00ms
62/100 -> 12729.00ms
63/100 -> 12696.00ms
64/100 -> 12769.00ms
65/100 -> 12715.00ms
66/100 -> 12676.00ms
67/100 -> 12733.00ms
68/100 -> 12689.00ms
69/100 -> 12744.00ms
70/100 -> 12678.00ms
71/100 -> 12760.00ms
72/100 -> 12692.00ms
73/100 -> 12697.00ms
74/100 -> 12768.00ms
75/100 -> 12754.00ms
76/100 -> 12760.00ms
77/100 -> 12681.00ms
78/100 -> 12757.00ms
79/100 -> 12766.00ms
80/100 -> 12702.00ms
81/100 -> 12679.00ms
82/100 -> 12691.00ms
83/100 -> 12760.00ms
84/100 -> 12717.00ms
85/100 -> 12736.00ms
86/100 -> 12765.00ms
87/100 -> 12702.00ms
88/100 -> 12686.00ms
89/100 -> 12751.00ms
90/100 -> 12699.00ms
91/100 -> 12712.00ms
92/100 -> 12746.00ms
93/100 -> 12722.00ms
94/100 -> 12682.00ms
95/100 -> 12758.00ms
96/100 -> 12688.00ms
97/100 -> 12751.00ms
98/100 -> 12710.00ms
99/100 -> 12680.00ms
100/100 -> 12678.00ms
Total time: 1271.591s
Min time: 12670ms
Max time: 12769ms
Avg. time: 12715.91ms
```

#### Statistics

| Avg. Gen Time (ms) | Time for 100 gen (s) |
| ------------------ | -------------------- |
| 12715              | 1271                 |

### NVIDIA A100 Machine

| Provider | Name          | CPU      | GPU                  | Memory | Disk       | Cost       | Cost per gen. ($) |
| -------- | ------------- | -------- | -------------------- | ------ | ---------- | ---------- | ----------------- |
| GCP      | a2-highgpu-1g | 12 vCPUs | 1 x NVIDIA A100 40GB | 85 GB  | 100 GB SSD | $2.79/hour | 0.00333           |
| AWS      | N/A           | N/A      | N/A                  | N/A    | N/A        | N/A        |                   |
| Azure    | N/A           | N/A      | N/A                  | N/A    | N/A        | N/A        |                   |

Notes: AWS and Azure do not have A100 GPUs yet.

#### Benchmark Logs

```
Running benchmark for 100 requests...
Saving output to ././output/bench-1668342373469
1/100 -> 4430.53ms
2/100 -> 4321.91ms
3/100 -> 4402.88ms
4/100 -> 4343.49ms
5/100 -> 4354.64ms
6/100 -> 4313.83ms
7/100 -> 4397.57ms
8/100 -> 4477.41ms
9/100 -> 4311.62ms
10/100 -> 4300.02ms
11/100 -> 4290.77ms
12/100 -> 4436.34ms
13/100 -> 4299.17ms
14/100 -> 4310.45ms
15/100 -> 4298.91ms
16/100 -> 4296.89ms
17/100 -> 4242.30ms
18/100 -> 4298.45ms
19/100 -> 4283.82ms
20/100 -> 4285.89ms
21/100 -> 4260.03ms
22/100 -> 4286.69ms
23/100 -> 4258.98ms
24/100 -> 4276.71ms
25/100 -> 4304.40ms
26/100 -> 4280.58ms
27/100 -> 4334.03ms
28/100 -> 4257.40ms
29/100 -> 4348.18ms
30/100 -> 4290.45ms
31/100 -> 4279.03ms
32/100 -> 4401.64ms
33/100 -> 4381.00ms
34/100 -> 4311.10ms
35/100 -> 4293.28ms
36/100 -> 4288.65ms
37/100 -> 4391.71ms
38/100 -> 4286.36ms
39/100 -> 4401.62ms
40/100 -> 4228.83ms
41/100 -> 4196.47ms
42/100 -> 4342.46ms
43/100 -> 4253.08ms
44/100 -> 4299.44ms
45/100 -> 4299.67ms
46/100 -> 4213.63ms
47/100 -> 4290.52ms
48/100 -> 4216.62ms
49/100 -> 4284.23ms
50/100 -> 4280.82ms
51/100 -> 4271.60ms
52/100 -> 4271.47ms
53/100 -> 4297.36ms
54/100 -> 4299.89ms
55/100 -> 4259.85ms
56/100 -> 4261.58ms
57/100 -> 4301.04ms
58/100 -> 4299.07ms
59/100 -> 4299.85ms
60/100 -> 4242.79ms
61/100 -> 4299.85ms
62/100 -> 4277.34ms
63/100 -> 4300.50ms
64/100 -> 4241.20ms
65/100 -> 4300.00ms
66/100 -> 4248.62ms
67/100 -> 4259.76ms
68/100 -> 4362.61ms
69/100 -> 4264.60ms
70/100 -> 4266.49ms
71/100 -> 4312.43ms
72/100 -> 4277.22ms
73/100 -> 4295.43ms
74/100 -> 4305.89ms
75/100 -> 4274.83ms
76/100 -> 4276.40ms
77/100 -> 4300.47ms
78/100 -> 4230.62ms
79/100 -> 4299.77ms
80/100 -> 4369.08ms
81/100 -> 4242.28ms
82/100 -> 4444.33ms
83/100 -> 4284.83ms
84/100 -> 4255.82ms
85/100 -> 4300.63ms
86/100 -> 4301.89ms
87/100 -> 4297.88ms
88/100 -> 4215.96ms
89/100 -> 4266.27ms
90/100 -> 4293.02ms
91/100 -> 4298.20ms
92/100 -> 4208.60ms
93/100 -> 4246.83ms
94/100 -> 4193.74ms
95/100 -> 4291.57ms
96/100 -> 4255.15ms
97/100 -> 4396.40ms
98/100 -> 4252.47ms
99/100 -> 4246.60ms
100/100 -> 4366.25ms
Total time: 429.76084162499996s
Min time: 4193.738916000002ms
Max time: 4477.408708999996ms
Avg. time: 4297.608416249999ms
```

#### Statistics

| Avg. Gen Time (ms) | Time for 100 gen (s) |
| ------------------ | -------------------- |
| 4297               | 429                  |
